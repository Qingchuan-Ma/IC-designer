# 计算架构

## 时域计算架构

* ASIP application specific instruction-set processor
* 令对ALU进行控制，ALU从集中式mem获取数据，并写回结果
* SIMD/SIMT
* 缺点就是存储访问粒度太小，集中式存数导致架构与片外存储交互频繁，性能和能效有限

### Vision C5 DSP

* SIMD VLIW的体系结构

### DianNao

* 输出复用
* NFU：神经功能单元
    - 三级流水化操作, NFU1（乘法）、NFU2（加法）、NFU3（非线性激活）
* NBin, NBout, SB：存储输入输出数据与网络参数的缓存

### LNPU

### 

## 空域计算架构

* 每个ALU都具有独立控制逻辑，并可以带本地存储（regfile或cache）
* 带有local mem的ALU通常称为计算单元PE
* 整个架构数据流控制，即所有ALU形成处理链关系，直接在ALU之间传递

### Eyeriss




### ENVISION

* 控制用16bit RISC核，专门用于RELU和池化操作的一维SIMD处理单元
* 专门处理卷积层和全连接层操作的二维SIMD MAC阵列
* 能效优化
    - MAC设计：DVAFS，电压-精度-频率动态缩放的mac阵列，支持通过逐层调制MAC阵列中的计算精度和电压来最小化能量消耗
    - 挖掘并行行和数据重用行提高数据效率
    - 针对神经网络具有大量冗余信息且模型具有容错行特点，采用稀疏化的网络压缩技术，溢出不必要的陈家计算减少计算量和访存量，并在硬件上提供稀疏化计算支持，提高神经网络的硬件执行效率


### TPU


* 256 * 256 个MAC组成二维矩阵乘法阵列为运算核心
* 集成了归一化/池化单元和完成非线性激活操作的激活单元
* 片上缓存包括累加器输出缓存，权重缓存和统一缓存（存激活），占了面积的37%
* 脉动阵列



## 多粒度可重构计算架构


* 有些层可以量化更低
* 根据amdahl定律，所有种类的层都应该优化
* 需要非固定的计算模式，对于计算密集型和存储密集型应该能够调整计算流来平和不同层的计算和访存
* 存储系统的访问pattern应该可变，以适应不同网络或网络层的数据访问

粒度：

* 核心运算部件
* 处理单元PE
* PE阵列
* 计算模式

### Thinker

* 2块 16 * 16 个PE组成可重构异构阵列
* Buffer Ctrl管理两个Multi-Bank片上缓存
* 可配置的IO和解码器单元加载权重和配置信息

* MAC支持位宽自适应
    - 两个8 * 16 并行处理
    - 两个组成16 * 16乘法器
* 每个PE支持多种不同类型的神经网络算子重构
    - 通用PE
        + 支持循环层，卷积层，线性层
    - 超级PE
        + 还支持池化、激活、标量乘法和加法以及RNN门控操作
* PE阵列可以按需动态划分不同功能子阵列
* 可根据不同网络结构重构计算模式



# 数据复用

## Input Stationary

## Output Stationary

## Weight Stationary

## Row Stationary



# SOTA

数据压缩

两符号哈夫曼编码

稀疏化